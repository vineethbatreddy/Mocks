/**
 * My API Sandbox
 * 
 */

// A basic route returning a canned response
Sandbox.define('/ping', 'GET', function(req, res){
    // send 'Hello world' response
    res.status(200);
    res.json('{"status":"Hey there ! mock server is alive."}');
});





Sandbox.define('/propertysearch', 'POST', function(req, res){
    // define variables
    var streetName = '';
    var streetType = '';
    var suburb = '';
    var postCode = '';
    var state = '';
    var nmi = '';
    
    var defaultStreetName = 'Market';
    var defaultStreetType = 'Street';
    var defaultSuburb = 'Melbourne';
    var defaultPostCode = '3000';
    var defaultState = 'VIC';
    var defaultNmi = '62033195524';
    
    var streetNameOverride;
    var streetTypeOverride;
    var suburbOverride;
    var postCodeOverride;
    var stateOverride;
    var nmiOverride;
    
    
    // read request
    var request = req.xmlDoc;
    
    if (request.get("//*[local-name()='streetName']") !== null)
        streetName = request.get("//*[local-name()='streetName']").text();
    
    if (request.get("//*[local-name()='streetType']") !== null)
        streetType = request.get("//*[local-name()='streetType']").text();
    
    if (request.get("//*[local-name()='suburb']") !== null)
        suburb = request.get("//*[local-name()='suburb']").text();
    
    if (request.get("//*[local-name()='postCode']") !== null)
        postCode = request.get("//*[local-name()='postCode']").text();
    
    if (request.get("//*[local-name()='state']") !== null)
        state = request.get("//*[local-name()='state']").text();
    
    if (request.get("//*[local-name()='nmi']") !== null)
        nmi = request.get("//*[local-name()='nmi']").text();
    
    // set sample response
    var responseXML = '<env:Envelope xmlns:env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><env:Header /><env:Body><ns3:queryResponse xmlns:ns3="http://chedha.net/evs/app.sfdc.Site" xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>b002f45c-7ceb-4db3-a649-0c26e4125b67</ns3:ebmId></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>808000086</ns3:serviceLocationCode><ns3:address><ns3:addressCode>519227</ns3:addressCode><ns3:buildingName>CNR COTHAM RD BTS ST GEORGES</ns3:buildingName><ns3:streetName>{{streetName}}</ns3:streetName><ns3:streetType>{{streetType}}</ns3:streetType><ns3:suburb>{{suburb}}</ns3:suburb><ns3:postCode>{{postCode}}</ns3:postCode><ns3:state>{{state}}</ns3:state><ns3:zoneCode>Non Residential</ns3:zoneCode></ns3:address><ns3:locationType>Industrial</ns3:locationType><ns3:gisId>11784912</ns3:gisId><ns3:usagePoint><ns3:nmi>{{nmi}}</ns3:nmi><ns3:identifierCode>ABOLISHED</ns3:identifierCode><ns3:revenueKind>Industrial</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>50</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Available</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>FF084</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></env:Body></env:Envelope>';
    
    // determine overrides
    if (streetName !== null && streetName !== '')
        streetNameOverride = streetName;
    else
        streetNameOverride = defaultStreetName;
    
    if (streetType !== null && streetType !== '')
        streetTypeOverride = streetType;
    else
        streetTypeOverride = defaultStreetType;
    
    if (suburb !== null && suburb !== '')
        suburbOverride = suburb;
    else
        suburbOverride = defaultSuburb;
    
    if (postCode !== null && postCode !== '')
        postCodeOverride = postCode;
    else
        postCodeOverride = defaultPostCode;
    
    if (state !== null && state !== '')
        stateOverride = state;
    else
        stateOverride = defaultState;
    
    if (nmi !== null && nmi !== '')
        nmiOverride = nmi;
    else
        nmiOverride = defaultNmi;
    
    // apply overrides
    responseXML = responseXML.replace('{{streetName}}', streetNameOverride);
    responseXML = responseXML.replace('{{streetType}}', streetTypeOverride);
    responseXML = responseXML.replace('{{suburb}}', suburbOverride);
    responseXML = responseXML.replace('{{postCode}}', postCodeOverride);
    responseXML = responseXML.replace('{{state}}', stateOverride);
    responseXML = responseXML.replace('{{nmi}}', nmiOverride);
    
    // set response type and status
    res.status(200);
    res.type('xml');
    
    var res61021000017 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>38</ns3:serviceLocationCode><ns3:address><ns3:addressCode>559847</ns3:addressCode><ns3:streetName>LINDA</ns3:streetName><ns3:streetType>CRES</ns3:streetType><ns3:suburb>HAWTHORN</ns3:suburb><ns3:postCode>3122</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Non Residential</ns3:zoneCode></ns3:address><ns3:locationType>Commercial</ns3:locationType><ns3:gisId>11539056</ns3:gisId><ns3:usagePoint><ns3:nmi>61021000017</ns3:nmi><ns3:identifierCode>C1G</ns3:identifierCode><ns3:revenueKind>Commercial</ns3:revenueKind><ns3:phaseCode>Three Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>SOLARIS</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2013-05-06</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B9227762</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B9227762</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E1</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>059/6D1R</ns3:meterCode><ns3:serialNumber>845198</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>CL013</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res61028630043 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>3283</ns3:serviceLocationCode><ns3:address><ns3:addressCode>620383</ns3:addressCode><ns3:streetNumber>225</ns3:streetNumber><ns3:streetName>BEACONSFIELD</ns3:streetName><ns3:streetType>PDE</ns3:streetType><ns3:suburb>MIDDLE PARK</ns3:suburb><ns3:postCode>3206</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:flatRoomDesc>F</ns3:flatRoomDesc><ns3:flatUnitNumber>24</ns3:flatUnitNumber><ns3:geographyStreetCode>225</ns3:geographyStreetCode></ns3:address><ns3:locationType>Urban</ns3:locationType><ns3:gisId>11515532</ns3:gisId><ns3:usagePoint><ns3:nmi>61028630043</ns3:nmi><ns3:identifierCode>C1RB</ns3:identifierCode><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2006-11-21</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2006-11-21</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2006-11-21</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse Out</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>10ML2/011</ns3:meterCode><ns3:serialNumber>A8751969</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>10ML2/011</ns3:meterCode><ns3:serialNumber>A8751969</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>094/5D1R</ns3:meterCode><ns3:serialNumber>6040075</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>307W</ns3:meterCode><ns3:serialNumber>7505884</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>AP008</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment><ns3:specialCondition><ns3:specialConditionType>DEFECT</ns3:specialConditionType><ns3:specialConditionDescription>Electrical Defects</ns3:specialConditionDescription><ns3:startDate>2013-03-22</ns3:startDate></ns3:specialCondition><ns3:specialCondition><ns3:specialConditionType>OFF15</ns3:specialConditionType><ns3:specialConditionDescription>Off Supply > 15 Mths</ns3:specialConditionDescription><ns3:startDate>2016-09-08</ns3:startDate></ns3:specialCondition></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res61030360646 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>318000111</ns3:serviceLocationCode><ns3:address><ns3:addressCode>1210651</ns3:addressCode><ns3:buildingName>BTS</ns3:buildingName><ns3:streetNumber>18</ns3:streetNumber><ns3:streetName>ALEXANDRA</ns3:streetName><ns3:streetType>AVE</ns3:streetType><ns3:suburb>CANTERBURY</ns3:suburb><ns3:postCode>3126</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Non Residential</ns3:zoneCode><ns3:geographyStreetCode>18</ns3:geographyStreetCode></ns3:address><ns3:locationType>Commercial</ns3:locationType><ns3:gisId>11654853</ns3:gisId><ns3:usagePoint><ns3:nmi>61030360646</ns3:nmi><ns3:identifierCode>BTS</ns3:identifierCode><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>Y</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B6228404</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B6228404</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E1</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>L005</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res61030553298 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>29000164</ns3:serviceLocationCode><ns3:address><ns3:addressCode>1588952</ns3:addressCode><ns3:streetNumber>22</ns3:streetNumber><ns3:streetName>FAVERSHAM</ns3:streetName><ns3:streetType>RD</ns3:streetType><ns3:suburb>CANTERBURY</ns3:suburb><ns3:postCode>3126</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:flatRoomDesc>TNHS</ns3:flatRoomDesc><ns3:flatUnitNumber>3</ns3:flatUnitNumber><ns3:geographyStreetCode>22</ns3:geographyStreetCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>157362744</ns3:gisId><ns3:usagePoint><ns3:nmi>61030553298</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Three Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Underground</ns3:distributionLineLocation><ns3:customerLineLocation>Underground</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>28</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B2250766</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>WINSON GREEN-FAVERSH</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>RD005</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62032427140 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>229971</ns3:serviceLocationCode><ns3:address><ns3:addressCode>50534</ns3:addressCode><ns3:streetNumber>109</ns3:streetNumber><ns3:streetName>BLACKBERRY</ns3:streetName><ns3:streetType>LANE</ns3:streetType><ns3:suburb>HADDON</ns3:suburb><ns3:postCode>3351</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:geographyStreetCode>109</ns3:geographyStreetCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>33920133</ns3:gisId><ns3:usagePoint><ns3:nmi>62032427140</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Underground</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>VicRoads 575 L2 76</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2010-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2009-02-02</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>ENGYAVIC</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2016-11-23</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:endDevice><ns3:className>Embedded Generator</ns3:className><ns3:endDeviceInfo><ns3:typeCode>Solar</ns3:typeCode><ns3:ratedCurrent>5000</ns3:ratedCurrent></ns3:endDeviceInfo><ns3:productAssetModel><ns3:modelVersion>Sungrow Power Suppl</ns3:modelVersion><ns3:modelNumber>SG5KTL-D</ns3:modelNumber></ns3:productAssetModel></ns3:endDevice><ns3:meter><ns3:meterCode>017/5D1R</ns3:meterCode><ns3:serialNumber>1560851</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>4</ns3:registerNMISuffix><ns3:registerSysCode>5</ns3:registerSysCode><ns3:registerDescription>Off Peak kWh</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>182/5D1R</ns3:meterCode><ns3:serialNumber>6790817</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>12ML2/A22</ns3:meterCode><ns3:serialNumber>A0692846</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register><ns3:register><ns3:registerCode>2</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>HW</ns3:registerSysCode><ns3:registerDescription>Hot Water</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>12ML2/A42</ns3:meterCode><ns3:serialNumber>A0692846</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register><ns3:register><ns3:registerCode>2</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>HW</ns3:registerSysCode><ns3:registerDescription>Hot Water</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register><ns3:register><ns3:registerCode>3</ns3:registerCode><ns3:registerNMISuffix>B</ns3:registerNMISuffix><ns3:registerSysCode>SO</ns3:registerSysCode><ns3:registerDescription>Solar/CoGen</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>811/1P MECH</ns3:meterCode><ns3:serialNumber>1459372</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>TS</ns3:meterType></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>36345900</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>BAS021</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment><ns3:specialCondition><ns3:specialConditionType>FEED</ns3:specialConditionType><ns3:specialConditionDescription>Energy Feedback Cust</ns3:specialConditionDescription><ns3:startDate>2017-04-28</ns3:startDate></ns3:specialCondition></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62033195524 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>314543</ns3:serviceLocationCode><ns3:address><ns3:addressCode>363247</ns3:addressCode><ns3:streetNumber>56</ns3:streetNumber><ns3:streetName>MYERS</ns3:streetName><ns3:streetType>PDE</ns3:streetType><ns3:suburb>ALTONA MEADOWS</ns3:suburb><ns3:postCode>3028</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:geographyStreetCode>56</ns3:geographyStreetCode></ns3:address><ns3:locationType>Industrial</ns3:locationType><ns3:gisId>34169205</ns3:gisId><ns3:usagePoint><ns3:nmi>62033195524</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Overhead</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>Y</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>Melways 207 K1 208</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>SOLARIS</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2005-06-08</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2005-06-08</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>185/6D1R</ns3:meterCode><ns3:serialNumber>7410080</ns3:serialNumber><ns3:statusCode>X</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>9</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>9</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>185/6D1R</ns3:meterCode><ns3:serialNumber>7420586</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>10ML1/011</ns3:meterCode><ns3:serialNumber>A2182679</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>10ML1/011</ns3:meterCode><ns3:serialNumber>A2182679</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>03056100</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>LVN022</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62034314180 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>449898</ns3:serviceLocationCode><ns3:address><ns3:addressCode>472363</ns3:addressCode><ns3:streetNumber>151</ns3:streetNumber><ns3:streetName>ST AIDANS</ns3:streetName><ns3:streetType>RD</ns3:streetType><ns3:suburb>BENDIGO</ns3:suburb><ns3:postCode>3550</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:geographyStreetCode>151</ns3:geographyStreetCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>32211420</ns3:gisId><ns3:usagePoint><ns3:nmi>62034314180</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>MAP 149-16:F2 5000</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse Out</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>017/5D1R</ns3:meterCode><ns3:serialNumber>2240740</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>54021100</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>BGO022</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment><ns3:specialCondition><ns3:specialConditionType>AMIBAU</ns3:specialConditionType><ns3:specialConditionDescription>AMI Resd Exchange</ns3:specialConditionDescription><ns3:startDate>2013-06-30</ns3:startDate></ns3:specialCondition><ns3:specialCondition><ns3:specialConditionType>DEFECT</ns3:specialConditionType><ns3:specialConditionDescription>Electrical Defects</ns3:specialConditionDescription><ns3:startDate>2013-01-10</ns3:startDate></ns3:specialCondition><ns3:specialCondition><ns3:specialConditionType>OFF15</ns3:specialConditionType><ns3:specialConditionDescription>Off Supply > 15 Mths</ns3:specialConditionDescription><ns3:startDate>2016-09-08</ns3:startDate></ns3:specialCondition></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62039126664 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>486003474</ns3:serviceLocationCode><ns3:address><ns3:addressCode>2523470</ns3:addressCode><ns3:lot>8</ns3:lot><ns3:streetName>TOPAZ</ns3:streetName><ns3:streetType>AVE</ns3:streetType><ns3:suburb>WHITE HILLS</ns3:suburb><ns3:postCode>3550</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Unknown</ns3:zoneCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>153701401</ns3:gisId><ns3:usagePoint><ns3:nmi>62039126664</ns3:nmi><ns3:revenueKind>Account - 16</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>VicRoads 608 A2 5000</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Incomplete</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>WBE013</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62032530325 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" /><soapenv:Body><ns3:queryResponse xmlns:ns3="http://chedha.net/evs/app.sfdc.Site" xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>486003474</ns3:serviceLocationCode><ns3:address><ns3:addressCode>2523470</ns3:addressCode><ns3:lot>66</ns3:lot><ns3:streetName>MCPHERSON </ns3:streetName><ns3:streetType>ST</ns3:streetType><ns3:suburb>HORSHAM</ns3:suburb><ns3:postCode>3400</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Unknown</ns3:zoneCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>153701401</ns3:gisId><ns3:usagePoint><ns3:nmi>62032530325</ns3:nmi><ns3:revenueKind>Account - 16</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>VicRoads 608 A2 5000</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Incomplete</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>WBE013</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    // send response XML
    if (nmiOverride == '61021000017')
        responseXML = res61021000017;
    
    if (nmiOverride == '61028630043')
        responseXML = res61028630043;
    
    if (nmiOverride == '61030360646')
        responseXML = res61030360646;
    
    if (nmiOverride == '61030553298')
        responseXML = res61030553298;
    
    if (nmiOverride == '62032427140')
        responseXML = res62032427140;
    
    if (nmiOverride == '62033195524')
        responseXML = res62033195524;
    
    if (nmiOverride == '62034314180')
        responseXML = res62034314180;
    
    if (nmiOverride == '62039126664')
        responseXML = res62039126664;
    
    if (nmiOverride == '62032530325')
        responseXML = res62032530325;
    
    res.send(responseXML);
});

Sandbox.define('/closeout', 'POST', function(req, res){
    // define variables
    var streetName = '';
    var streetType = '';
    var suburb = '';
    var postCode = '';
    var state = '';
    var nmi = '';
    
    var defaultStreetName = 'Market';
    var defaultStreetType = 'Street';
    var defaultSuburb = 'Melbourne';
    var defaultPostCode = '3000';
    var defaultState = 'VIC';
    var defaultNmi = '62033195524';
    
    var streetNameOverride;
    var streetTypeOverride;
    var suburbOverride;
    var postCodeOverride;
    var stateOverride;
    var nmiOverride;
    
    
    // read request
    var request = req.xmlDoc;
    
    if (request.get("//*[local-name()='streetName']") !== null)
        streetName = request.get("//*[local-name()='streetName']").text();
    
    if (request.get("//*[local-name()='streetType']") !== null)
        streetType = request.get("//*[local-name()='streetType']").text();
    
    if (request.get("//*[local-name()='suburb']") !== null)
        suburb = request.get("//*[local-name()='suburb']").text();
    
    if (request.get("//*[local-name()='postCode']") !== null)
        postCode = request.get("//*[local-name()='postCode']").text();
    
    if (request.get("//*[local-name()='state']") !== null)
        state = request.get("//*[local-name()='state']").text();
    
    if (request.get("//*[local-name()='nmi']") !== null)
        nmi = request.get("//*[local-name()='nmi']").text();
    
    // set sample response
    var responseXML = '<env:Envelope xmlns:env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><env:Header /><env:Body><ns3:queryResponse xmlns:ns3="http://chedha.net/evs/app.sfdc.Site" xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>b002f45c-7ceb-4db3-a649-0c26e4125b67</ns3:ebmId></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>808000086</ns3:serviceLocationCode><ns3:address><ns3:addressCode>519227</ns3:addressCode><ns3:buildingName>CNR COTHAM RD BTS ST GEORGES</ns3:buildingName><ns3:streetName>{{streetName}}</ns3:streetName><ns3:streetType>{{streetType}}</ns3:streetType><ns3:suburb>{{suburb}}</ns3:suburb><ns3:postCode>{{postCode}}</ns3:postCode><ns3:state>{{state}}</ns3:state><ns3:zoneCode>Non Residential</ns3:zoneCode></ns3:address><ns3:locationType>Industrial</ns3:locationType><ns3:gisId>11784912</ns3:gisId><ns3:usagePoint><ns3:nmi>{{nmi}}</ns3:nmi><ns3:identifierCode>ABOLISHED</ns3:identifierCode><ns3:revenueKind>Industrial</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>50</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2007-12-04</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Available</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>FF084</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></env:Body></env:Envelope>';
    
    // determine overrides
    if (streetName !== null && streetName !== '')
        streetNameOverride = streetName;
    else
        streetNameOverride = defaultStreetName;
    
    if (streetType !== null && streetType !== '')
        streetTypeOverride = streetType;
    else
        streetTypeOverride = defaultStreetType;
    
    if (suburb !== null && suburb !== '')
        suburbOverride = suburb;
    else
        suburbOverride = defaultSuburb;
    
    if (postCode !== null && postCode !== '')
        postCodeOverride = postCode;
    else
        postCodeOverride = defaultPostCode;
    
    if (state !== null && state !== '')
        stateOverride = state;
    else
        stateOverride = defaultState;
    
    if (nmi !== null && nmi !== '')
        nmiOverride = nmi;
    else
        nmiOverride = defaultNmi;
    
    // apply overrides
    responseXML = responseXML.replace('{{streetName}}', streetNameOverride);
    responseXML = responseXML.replace('{{streetType}}', streetTypeOverride);
    responseXML = responseXML.replace('{{suburb}}', suburbOverride);
    responseXML = responseXML.replace('{{postCode}}', postCodeOverride);
    responseXML = responseXML.replace('{{state}}', stateOverride);
    responseXML = responseXML.replace('{{nmi}}', nmiOverride);
    
    // set response type and status
    res.status(200);
    res.type('xml');
    
    var res61021000017 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>38</ns3:serviceLocationCode><ns3:address><ns3:addressCode>559847</ns3:addressCode><ns3:streetName>LINDA</ns3:streetName><ns3:streetType>CRES</ns3:streetType><ns3:suburb>HAWTHORN</ns3:suburb><ns3:postCode>3122</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Non Residential</ns3:zoneCode></ns3:address><ns3:locationType>Commercial</ns3:locationType><ns3:gisId>11539056</ns3:gisId><ns3:usagePoint><ns3:nmi>61021000017</ns3:nmi><ns3:identifierCode>C1G</ns3:identifierCode><ns3:revenueKind>Commercial</ns3:revenueKind><ns3:phaseCode>Three Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>SOLARIS</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2013-05-06</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2003-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B9227762</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B9227762</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E1</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>059/6D1R</ns3:meterCode><ns3:serialNumber>845198</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>CL013</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res61028630043 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>3283</ns3:serviceLocationCode><ns3:address><ns3:addressCode>620383</ns3:addressCode><ns3:streetNumber>225</ns3:streetNumber><ns3:streetName>BEACONSFIELD</ns3:streetName><ns3:streetType>PDE</ns3:streetType><ns3:suburb>MIDDLE PARK</ns3:suburb><ns3:postCode>3206</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:flatRoomDesc>F</ns3:flatRoomDesc><ns3:flatUnitNumber>24</ns3:flatUnitNumber><ns3:geographyStreetCode>225</ns3:geographyStreetCode></ns3:address><ns3:locationType>Urban</ns3:locationType><ns3:gisId>11515532</ns3:gisId><ns3:usagePoint><ns3:nmi>61028630043</ns3:nmi><ns3:identifierCode>C1RB</ns3:identifierCode><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2003-05-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2006-11-21</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2006-11-21</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2006-11-21</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse Out</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>10ML2/011</ns3:meterCode><ns3:serialNumber>A8751969</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>10ML2/011</ns3:meterCode><ns3:serialNumber>A8751969</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>094/5D1R</ns3:meterCode><ns3:serialNumber>6040075</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>307W</ns3:meterCode><ns3:serialNumber>7505884</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>AP008</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment><ns3:specialCondition><ns3:specialConditionType>DEFECT</ns3:specialConditionType><ns3:specialConditionDescription>Electrical Defects</ns3:specialConditionDescription><ns3:startDate>2013-03-22</ns3:startDate></ns3:specialCondition><ns3:specialCondition><ns3:specialConditionType>OFF15</ns3:specialConditionType><ns3:specialConditionDescription>Off Supply > 15 Mths</ns3:specialConditionDescription><ns3:startDate>2016-09-08</ns3:startDate></ns3:specialCondition></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res61030360646 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>318000111</ns3:serviceLocationCode><ns3:address><ns3:addressCode>1210651</ns3:addressCode><ns3:buildingName>BTS</ns3:buildingName><ns3:streetNumber>18</ns3:streetNumber><ns3:streetName>ALEXANDRA</ns3:streetName><ns3:streetType>AVE</ns3:streetType><ns3:suburb>CANTERBURY</ns3:suburb><ns3:postCode>3126</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Non Residential</ns3:zoneCode><ns3:geographyStreetCode>18</ns3:geographyStreetCode></ns3:address><ns3:locationType>Commercial</ns3:locationType><ns3:gisId>11654853</ns3:gisId><ns3:usagePoint><ns3:nmi>61030360646</ns3:nmi><ns3:identifierCode>BTS</ns3:identifierCode><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>Y</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2015-01-23</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B6228404</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B6228404</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E1</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>L005</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res61030553298 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>CITIPOWER</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>CITIPOWER</ns3:company><ns3:serviceLocationCode>29000164</ns3:serviceLocationCode><ns3:address><ns3:addressCode>1588952</ns3:addressCode><ns3:streetNumber>22</ns3:streetNumber><ns3:streetName>FAVERSHAM</ns3:streetName><ns3:streetType>RD</ns3:streetType><ns3:suburb>CANTERBURY</ns3:suburb><ns3:postCode>3126</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:flatRoomDesc>TNHS</ns3:flatRoomDesc><ns3:flatUnitNumber>3</ns3:flatUnitNumber><ns3:geographyStreetCode>22</ns3:geographyStreetCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>157362744</ns3:gisId><ns3:usagePoint><ns3:nmi>61030553298</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Three Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Underground</ns3:distributionLineLocation><ns3:customerLineLocation>Underground</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>28</ns3:authorisedMD><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPWMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CPNETMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIP</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>CITIPP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2018-06-14</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>30ML2/011</ns3:meterCode><ns3:serialNumber>B2250766</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>WINSON GREEN-FAVERSH</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>RD005</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62032427140 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>229971</ns3:serviceLocationCode><ns3:address><ns3:addressCode>50534</ns3:addressCode><ns3:streetNumber>109</ns3:streetNumber><ns3:streetName>BLACKBERRY</ns3:streetName><ns3:streetType>LANE</ns3:streetType><ns3:suburb>HADDON</ns3:suburb><ns3:postCode>3351</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:geographyStreetCode>109</ns3:geographyStreetCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>33920133</ns3:gisId><ns3:usagePoint><ns3:nmi>62032427140</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Underground</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>VicRoads 575 L2 76</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2010-07-29</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2009-02-02</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>ENGYAVIC</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2016-11-23</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:endDevice><ns3:className>Embedded Generator</ns3:className><ns3:endDeviceInfo><ns3:typeCode>Solar</ns3:typeCode><ns3:ratedCurrent>5000</ns3:ratedCurrent></ns3:endDeviceInfo><ns3:productAssetModel><ns3:modelVersion>Sungrow Power Suppl</ns3:modelVersion><ns3:modelNumber>SG5KTL-D</ns3:modelNumber></ns3:productAssetModel></ns3:endDevice><ns3:meter><ns3:meterCode>017/5D1R</ns3:meterCode><ns3:serialNumber>1560851</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>4</ns3:registerNMISuffix><ns3:registerSysCode>5</ns3:registerSysCode><ns3:registerDescription>Off Peak kWh</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>182/5D1R</ns3:meterCode><ns3:serialNumber>6790817</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>12ML2/A22</ns3:meterCode><ns3:serialNumber>A0692846</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register><ns3:register><ns3:registerCode>2</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>HW</ns3:registerSysCode><ns3:registerDescription>Hot Water</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>12ML2/A42</ns3:meterCode><ns3:serialNumber>A0692846</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register><ns3:register><ns3:registerCode>2</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>HW</ns3:registerSysCode><ns3:registerDescription>Hot Water</ns3:registerDescription><ns3:registerControlledLoadIndicator>2</ns3:registerControlledLoadIndicator></ns3:register><ns3:register><ns3:registerCode>3</ns3:registerCode><ns3:registerNMISuffix>B</ns3:registerNMISuffix><ns3:registerSysCode>SO</ns3:registerSysCode><ns3:registerDescription>Solar/CoGen</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>811/1P MECH</ns3:meterCode><ns3:serialNumber>1459372</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>TS</ns3:meterType></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>36345900</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>BAS021</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment><ns3:specialCondition><ns3:specialConditionType>FEED</ns3:specialConditionType><ns3:specialConditionDescription>Energy Feedback Cust</ns3:specialConditionDescription><ns3:startDate>2017-04-28</ns3:startDate></ns3:specialCondition></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62033195524 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>314543</ns3:serviceLocationCode><ns3:address><ns3:addressCode>363247</ns3:addressCode><ns3:streetNumber>56</ns3:streetNumber><ns3:streetName>MYERS</ns3:streetName><ns3:streetType>PDE</ns3:streetType><ns3:suburb>ALTONA MEADOWS</ns3:suburb><ns3:postCode>3028</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:geographyStreetCode>56</ns3:geographyStreetCode></ns3:address><ns3:locationType>Industrial</ns3:locationType><ns3:gisId>34169205</ns3:gisId><ns3:usagePoint><ns3:nmi>62033195524</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Overhead</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>Y</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>Melways 207 K1 208</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>SOLARIS</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2005-06-08</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2005-06-08</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse In</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>185/6D1R</ns3:meterCode><ns3:serialNumber>7410080</ns3:serialNumber><ns3:statusCode>X</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>9</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>9</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>185/6D1R</ns3:meterCode><ns3:serialNumber>7420586</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>10ML1/011</ns3:meterCode><ns3:serialNumber>A2182679</ns3:serialNumber><ns3:statusCode>R</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:meter><ns3:meterCode>10ML1/011</ns3:meterCode><ns3:serialNumber>A2182679</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E4</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>E</ns3:registerNMISuffix><ns3:registerSysCode>L+P</ns3:registerSysCode><ns3:registerDescription>Light + Power</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>03056100</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>LVN022</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62034314180 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>449898</ns3:serviceLocationCode><ns3:address><ns3:addressCode>472363</ns3:addressCode><ns3:streetNumber>151</ns3:streetNumber><ns3:streetName>ST AIDANS</ns3:streetName><ns3:streetType>RD</ns3:streetType><ns3:suburb>BENDIGO</ns3:suburb><ns3:postCode>3550</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Residential</ns3:zoneCode><ns3:geographyStreetCode>151</ns3:geographyStreetCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>32211420</ns3:gisId><ns3:usagePoint><ns3:nmi>62034314180</ns3:nmi><ns3:revenueKind>Domestic</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>0</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>0</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>MAP 149-16:F2 5000</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2001-01-01</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Fuse Out</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:meter><ns3:meterCode>017/5D1R</ns3:meterCode><ns3:serialNumber>2240740</ns3:serialNumber><ns3:statusCode>A</ns3:statusCode><ns3:meterType>E</ns3:meterType><ns3:meterClass>Direct Meter</ns3:meterClass><ns3:register><ns3:registerCode>1</ns3:registerCode><ns3:registerNMISuffix>1</ns3:registerNMISuffix><ns3:registerSysCode>2</ns3:registerSysCode><ns3:registerDescription>Energy</ns3:registerDescription><ns3:registerControlledLoadIndicator>1</ns3:registerControlledLoadIndicator></ns3:register></ns3:meter><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:substation><ns3:substationCode>54021100</ns3:substationCode></ns3:substation><ns3:feeder><ns3:feederName>BGO022</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment><ns3:specialCondition><ns3:specialConditionType>AMIBAU</ns3:specialConditionType><ns3:specialConditionDescription>AMI Resd Exchange</ns3:specialConditionDescription><ns3:startDate>2013-06-30</ns3:startDate></ns3:specialCondition><ns3:specialCondition><ns3:specialConditionType>DEFECT</ns3:specialConditionType><ns3:specialConditionDescription>Electrical Defects</ns3:specialConditionDescription><ns3:startDate>2013-01-10</ns3:startDate></ns3:specialCondition><ns3:specialCondition><ns3:specialConditionType>OFF15</ns3:specialConditionType><ns3:specialConditionDescription>Off Supply > 15 Mths</ns3:specialConditionDescription><ns3:startDate>2016-09-08</ns3:startDate></ns3:specialCondition></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62039126664 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"></soap:Header><soapenv:Body><ns3:queryResponse xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns3="http://chedha.net/evs/app.sfdc.Site"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>486003474</ns3:serviceLocationCode><ns3:address><ns3:addressCode>2523470</ns3:addressCode><ns3:lot>8</ns3:lot><ns3:streetName>TOPAZ</ns3:streetName><ns3:streetType>AVE</ns3:streetType><ns3:suburb>WHITE HILLS</ns3:suburb><ns3:postCode>3550</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Unknown</ns3:zoneCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>153701401</ns3:gisId><ns3:usagePoint><ns3:nmi>62039126664</ns3:nmi><ns3:revenueKind>Account - 16</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>VicRoads 608 A2 5000</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Incomplete</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>WBE013</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    var res62032530325 = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" /><soapenv:Body><ns3:queryResponse xmlns:ns3="http://chedha.net/evs/app.sfdc.Site" xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/"><ns3:header><ns3:company>POWERCOR</ns3:company><ns3:ebmId>string</ns3:ebmId><ns3:propertySet><ns3:property name="string"><ns3:value>string</ns3:value></ns3:property></ns3:propertySet></ns3:header><ns3:body><ns3:siteDetail><ns3:company>POWERCOR</ns3:company><ns3:serviceLocationCode>486003474</ns3:serviceLocationCode><ns3:address><ns3:addressCode>2523470</ns3:addressCode><ns3:lot>66</ns3:lot><ns3:streetName>MCPHERSON </ns3:streetName><ns3:streetType>ST</ns3:streetType><ns3:suburb>HORSHAM</ns3:suburb><ns3:postCode>3400</ns3:postCode><ns3:state>VIC</ns3:state><ns3:zoneCode>Unknown</ns3:zoneCode></ns3:address><ns3:locationType>Unknown</ns3:locationType><ns3:gisId>153701401</ns3:gisId><ns3:usagePoint><ns3:nmi>62032530325</ns3:nmi><ns3:revenueKind>Account - 16</ns3:revenueKind><ns3:phaseCode>Single Phase</ns3:phaseCode><ns3:ratedCurrent>1</ns3:ratedCurrent><ns3:distributionLineLocation>Unknown</ns3:distributionLineLocation><ns3:customerLineLocation>Unknown</ns3:customerLineLocation><ns3:tempSupply>N</ns3:tempSupply><ns3:authorisedMD>40</ns3:authorisedMD><ns3:usagePointLocation><ns3:XCHEDSystemMapRef>System Plan Map Ref</ns3:XCHEDSystemMapRef><ns3:XCHEDSystemPlanMapScale>VicRoads 608 A2 5000</ns3:XCHEDSystemPlanMapScale></ns3:usagePointLocation><ns3:account><ns3:agreement><ns3:serviceSupplier><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>RP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCMP</ns3:marketRoleCode><ns3:roleType>MPB</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>FRMP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MDP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>ROLR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERCOR</ns3:marketRoleCode><ns3:roleType>LR</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWERMDP</ns3:marketRoleCode><ns3:roleType>MPC</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole><ns3:marketRole><ns3:marketRoleCode>POWCP</ns3:marketRoleCode><ns3:roleType>LNSP</ns3:roleType><ns3:XCHEDRoleStartDt>2017-04-25</ns3:XCHEDRoleStartDt></ns3:marketRole></ns3:serviceSupplier><ns3:serviceCategory><ns3:serviceCategoryName>E</ns3:serviceCategoryName><ns3:serviceCategoryStatus>Incomplete</ns3:serviceCategoryStatus></ns3:serviceCategory></ns3:agreement></ns3:account><ns3:usagePointEquipmentAssignment><ns3:equipment><ns3:feeder><ns3:feederName>WBE013</ns3:feederName></ns3:feeder></ns3:equipment></ns3:usagePointEquipmentAssignment></ns3:usagePoint></ns3:siteDetail></ns3:body></ns3:queryResponse></soapenv:Body></soapenv:Envelope>';
    
    // send response XML
    if (nmiOverride == '61021000017')
        responseXML = res61021000017;
    
    if (nmiOverride == '61028630043')
        responseXML = res61028630043;
    
    if (nmiOverride == '61030360646')
        responseXML = res61030360646;
    
    if (nmiOverride == '61030553298')
        responseXML = res61030553298;
    
    if (nmiOverride == '62032427140')
        responseXML = res62032427140;
    
    if (nmiOverride == '62033195524')
        responseXML = res62033195524;
    
    if (nmiOverride == '62034314180')
        responseXML = res62034314180;
    
    if (nmiOverride == '62039126664')
        responseXML = res62039126664;
    
    if (nmiOverride == '62032530325')
        responseXML = res62032530325;
    
    res.send(responseXML);
})

Sandbox.define('/DERRSave','POST', function(req, res){
    // set sample response
    var responseXML = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:der="http://chedha.net/cap/app/sfdc/evs/DERData"><soapenv:Header/><soapenv:Body><der:saveDERResponse>SUCCESS</der:saveDERResponse></soapenv:Body></soapenv:Envelope>';
    
    var fault = '<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Header xmlns:der="http://chedha.net/cap/app/sfdc/evs/DERData" /><soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Fault><faultcode>app.sfdc:251</faultcode><faultstring>SaveDER Request validation failed. Following elements are required</faultstring><detail><der:derDataFault xmlns:der="http://chedha.net/cap/app/sfdc/evs/DERData"><der:source>evs/app/sfdc/DERData_1.0&gt;&gt;saveDER</der:source><der:errorCode>app.sfdc:251</der:errorCode><der:description>SaveDER Request validation failed. Following elements are required</der:description><der:details><message>Mandatory element(jobnumber) is not passed in the request</message></der:details><der:faultInstanceId>632aacbb-649e-4605-b08e-0da28d8a321a</der:faultInstanceId><der:propertySet /><der:timestamp>2019-10-17T17:20:12.209+11:00</der:timestamp></der:derDataFault></detail></soap:Fault></soap:Body></soapenv:Envelope>';
    
    // set response type and status
    res.status(200);
    res.type('xml');
    
    res.send(responseXML);
})

Sandbox.define('/DERRQuery','POST', function(req, res){
    // set sample response
    var responseXML = '<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><env:Header xmlns:env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsa="http://www.w3.org/2005/08/addressing"><wsa:MessageID>urn:2cc22dc2-0505-11ea-bc83-ac162d9d4bf4</wsa:MessageID><wsa:ReplyTo><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address><wsa:ReferenceParameters><instra:tracking.ecid xmlns:instra="http://xmlns.oracle.com/sca/tracking/1.0">005_lupeEHWF^6k5sz_AiX000EnI000e8b</instra:tracking.ecid><instra:tracking.FlowEventId xmlns:instra="http://xmlns.oracle.com/sca/tracking/1.0">694162660</instra:tracking.FlowEventId><instra:tracking.FlowId xmlns:instra="http://xmlns.oracle.com/sca/tracking/1.0">28508786</instra:tracking.FlowId><instra:tracking.CorrelationFlowId xmlns:instra="http://xmlns.oracle.com/sca/tracking/1.0">0000MtTsAtHF^6k5szg8yX1Tl66e00050I</instra:tracking.CorrelationFlowId></wsa:ReferenceParameters></wsa:ReplyTo><wsa:FaultTo><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:FaultTo></env:Header><env:Body xmlns:env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsa="http://www.w3.org/2005/08/addressing"><ns2:queryDERResponse xmlns:ns2="http://chedha.net/cap/app/sfdc/evs/DERData"><ns2:header><ns2:company>CITIPOWER</ns2:company><ns2:ebmId>86a07a00-226b-4f8c-a8f3-e163df25c4c3</ns2:ebmId></ns2:header><ns2:body><ns2:status>Success</ns2:status><ns2:response><ns2:derrRecord><ns2:nmi>61022830977</ns2:nmi><ns2:jobnumber>55554646</ns2:jobnumber><ns2:approvedCapacity>5</ns2:approvedCapacity><ns2:installedPhasesCount>Single Phase</ns2:installedPhasesCount><ns2:islandableInstallation>No</ns2:islandableInstallation><ns2:sharedEmbeddedGeneration>N</ns2:sharedEmbeddedGeneration><ns2:transactionStatus>New</ns2:transactionStatus><ns2:derRegisterLastUpdateDate>2019-11-12T15:27:25</ns2:derRegisterLastUpdateDate><ns2:centralProtectionControl centralProtectionControlValue="Yes"><ns2:exportLimitkva>4</ns2:exportLimitkva><ns2:underFrequencyProtection>46</ns2:underFrequencyProtection><ns2:underFrequencyProtectionDelay>1</ns2:underFrequencyProtectionDelay><ns2:overFrequencyProtection>52</ns2:overFrequencyProtection><ns2:underVoltageProtection>123.2</ns2:underVoltageProtection><ns2:underVoltageProtectionDelay>321.415</ns2:underVoltageProtectionDelay><ns2:overVoltageProtection1>15.4</ns2:overVoltageProtection1><ns2:overVoltageProtection1Delay>12.1</ns2:overVoltageProtection1Delay><ns2:overVoltageProtection2>321.12</ns2:overVoltageProtection2><ns2:frequencyRateOfChange>2</ns2:frequencyRateOfChange><ns2:voltageVectorShift>12.12</ns2:voltageVectorShift><ns2:interTripScheme>Hello moto</ns2:interTripScheme><ns2:neutralVoltageDisplacement>1235</ns2:neutralVoltageDisplacement><ns2:installerId>Cathy</ns2:installerId><ns2:recordCreationDate>2019-11-12T15:27:25</ns2:recordCreationDate></ns2:centralProtectionControl><ns2:acConnections><ns2:derConnection><ns2:externalRefId>483000001</ns2:externalRefId><ns2:acConnectionProperties><ns2:commissioningDate>2019-11-12</ns2:commissioningDate><ns2:equipmentType>Inverter</ns2:equipmentType><ns2:count>1</ns2:count><ns2:status>Active</ns2:status><ns2:frequencyRateOfChange>3</ns2:frequencyRateOfChange><ns2:voltageVectorShift>1245</ns2:voltageVectorShift><ns2:interTripScheme>Hello cat</ns2:interTripScheme><ns2:neutralVoltageDisplacement>1235</ns2:neutralVoltageDisplacement></ns2:acConnectionProperties><ns2:acConnectionDetails><ns2:inverterEquipment><ns2:manufacturerName>Ningbo Ginlong Technologies Co Ltd</ns2:manufacturerName><ns2:series>4G</ns2:series><ns2:modelNumber>Solapowa-1P3K-4G</ns2:modelNumber><ns2:inverterSerialNumbers><ns2:serialNumber>11111</ns2:serialNumber><ns2:serialNumber>22222</ns2:serialNumber><ns2:serialNumber>33333</ns2:serialNumber></ns2:inverterSerialNumbers><ns2:deviceCapacity>3</ns2:deviceCapacity><ns2:standard>IEC 62109.1;IEC 62109.2;AS/NZS 4777.2:2015</ns2:standard><ns2:sustainOpOvervoltLimit>1.245</ns2:sustainOpOvervoltLimit><ns2:stopAtOverFreq>52</ns2:stopAtOverFreq><ns2:stopAtUnderFreq>47</ns2:stopAtUnderFreq><ns2:dredInteraction>No</ns2:dredInteraction><ns2:voltWattResp voltWattRespMode="Enabled"><ns2:wattRespV1>217</ns2:wattRespV1><ns2:wattRespV2>223</ns2:wattRespV2><ns2:wattRespV3>248</ns2:wattRespV3><ns2:wattRespV4>246</ns2:wattRespV4><ns2:wattRespPAtV1>16</ns2:wattRespPAtV1><ns2:wattRespPAtV2>17</ns2:wattRespPAtV2><ns2:wattRespPAtV3>18</ns2:wattRespPAtV3><ns2:wattRespPAtV4>19</ns2:wattRespPAtV4></ns2:voltWattResp><ns2:voltVarResp voltVarRespMode="Enabled"><ns2:varRespV1>210</ns2:varRespV1><ns2:varRespV2>212</ns2:varRespV2><ns2:varRespV3>223</ns2:varRespV3><ns2:varRespV4>225</ns2:varRespV4><ns2:varRespQAtV1>64</ns2:varRespQAtV1><ns2:varRespQAtV2>-64</ns2:varRespQAtV2><ns2:varRespQAtV3>75</ns2:varRespQAtV3><ns2:varRespQAtV4>-74</ns2:varRespQAtV4></ns2:voltVarResp></ns2:inverterEquipment></ns2:acConnectionDetails><ns2:devices><ns2:derDevice><ns2:externalRefId>483000001</ns2:externalRefId><ns2:deviceProperties><ns2:type>Solar PV</ns2:type><ns2:subType>Concentrating PV</ns2:subType><ns2:count>1</ns2:count><ns2:status>Active</ns2:status></ns2:deviceProperties><ns2:deviceDetails><ns2:manufactureName>Ningbo Ginlong Technologies Co Ltd</ns2:manufactureName><ns2:modelNumber>AS-6P-601W</ns2:modelNumber><ns2:nominalRatedCapacity>335</ns2:nominalRatedCapacity></ns2:deviceDetails><ns2:creationDate>2019-11-12T15:27:26</ns2:creationDate><ns2:updatedDate>2019-11-12T15:27:26</ns2:updatedDate></ns2:derDevice></ns2:devices><ns2:creationDate>2019-11-12T15:27:25</ns2:creationDate><ns2:updatedDate>2019-11-12T15:27:25</ns2:updatedDate></ns2:derConnection></ns2:acConnections></ns2:derrRecord></ns2:response></ns2:body></ns2:queryDERResponse></env:Body></soapenv:Envelope>';
    
    // set response type and status
    res.status(200);
    res.type('xml');
    
    res.send(responseXML);
})